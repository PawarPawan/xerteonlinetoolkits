	<PG name="Mapstraction">		<SCR name="getPageID"><![CDATA[pageIcon = icon.parentNode.clip();if (extXML == undefined){  // Page Wizard  pageIcon.templateData = pageIcon.extXML.toObject();  pageIcon.templateData = pageIcon.templateData.pageWizard[0];} else {  // Toolkits  myXML = new XML(extXML.firstChild.childNodes[rootIcon.getPageIndex() - pgOffset]);  pageIcon.templateData = myXML.toObject();  rootIcon.setTitleText(templateData.learningObject[0].name);}if (pageIcon.templateData.mapstraction[0].narration != undefined){  narration = pageIcon.templateData.mapstraction[0].narration;  rootIcon.broadcast('showAudio');}]]></SCR>		<SCR name="Mapstraction"><![CDATA[qs = '?';qs += 'provider='+pageIcon.templateData.mapstraction[0].provider;qs += '&lat='+pageIcon.templateData.mapstraction[0].lat;qs += '&lng='+pageIcon.templateData.mapstraction[0].lng;qs += '&zoom='+pageIcon.templateData.mapstraction[0].zoom;//any overlays?if (pageIcon.templateData.mapstraction[0].overlay != undefined){    temp = new Array();  for (i = 0; i< pageIcon.templateData.mapstraction[0].overlay.length; i++){    //on the web or uploaded?    if (pageIcon.templateData.mapstraction[0].overlay[i].url.indexOf('FileLocation') != -1 ){     tempURL = '../' + expression(pageIcon.templateData.mapstraction[0].overlay[i].url, engine);     temp.push(tempURL);    } else {      tempURL = pageIcon.templateData.mapstraction[0].overlay[i].url;      temp.push(escape(tempURL));    }  }  qs += '&overlays=' + temp.join('|');}//flickr search for georss, if definedif (pageIcon.templateData.mapstraction[0].flickr != undefined){  qs += '&flickr=' + pageIcon.templateData.mapstraction[0].flickr;}params = new Object();params.type = 'iframe';params.id = 'popup0';params.screenSize = rootIcon.sizes.getValue();params.calcW = 95;params.calcH = 79;params.calcX = 2.5;params.calcY = 14;params.width = Stage.width;params.height = Stage.height;params.src = 'mapstraction/mapstraction.htm' + qs;params.bgColour = '#FFFFFF';params.borderColour = '#000000';callJS('makePopUp', params);popupActive = true;]]></SCR>	</PG>