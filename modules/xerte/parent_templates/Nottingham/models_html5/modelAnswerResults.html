<script type="text/javascript">

	// pageChanged & sizeChanged functions are needed in every model file
	// other functions for model should also be in here to avoid conflicts
	var modelAnswerResults = new function() {
		// function called every time the page is viewed after it has initially loaded
		this.pageChanged = function() {
			$("#panelTxt").html(modelAnswerResults.getData());
		}
		
		// function called every time the size of the LO is changed
		this.sizeChanged = function() {
			if (x_browserInfo.mobile == false) {
				var $panel = $("#pageContents .panel");
				$panel.height($x_pageHolder.height() - parseInt($x_pageDiv.css("padding-top")) * 2 - parseInt($panel.css("padding-top")) * 2 - 5);
			}
		}
		
		// function gets saved data about all modelAnswer pages in the project
		this.getData = function() {
			var dataString = "";
			for (var i=0; i<x_pageInfo.length; i++) {
				var thisObject = x_pageInfo[i];
				if (thisObject.type == "modelAnswer") {
					if (thisObject.savedData != undefined) { // ignores skipped pages
						if (dataString != "") {
							dataString += '<br/><hr/><br/>';
						}
						dataString += '<p>' + x_addLineBreaks(thisObject.savedData) + '</p>';
					}
				}
			}
			return dataString;
		}
		
		this.init = function() {
			// copyBtnTip & copyBtnWidth attributes not used - button will be sized automatically
			$("#leftTxt").html(x_addLineBreaks(x_currentPageXML.childNodes[0].nodeValue));
			
			// if language attributes aren't in xml will have to use english fall back
			var copyBtnTxt = x_currentPageXML.getAttribute("copyBtnTxt");
			if (copyBtnTxt == undefined) {
				copyBtnTxt = "Copy to clipboard"
			}
			/*
			$("#button")
				.button({
					label:	copyBtnTxt
				})
				.click(function() {
					// ** need to copy text to clipboard - no easy way to do this without flash because of browser security **
					// ** possibly use a work around like this which displays text and selects it so you can just Ctrl-C but instructions in xwd would need changing **
					window.prompt ("Copy to clipboard: Ctrl+C", modelAnswerResults.getData());
				});
			*/
			
			$("#panelTxt").html(modelAnswerResults.getData());
			
			if (x_currentPage != 0) {
				modelAnswerResults.sizeChanged();
			}
			
			x_pageLoaded();
		}
	}
	
	modelAnswerResults.init();
	
</script>

<style type="text/css">
	
	#pageContents .panel {
		overflow:	auto;
	}
	
	#button {
		margin-top:	10px;
	}
	
</style>

<div id="pageContents">
	
	<div class="splitScreen medium">
		
		<div id="textHolder" class="left">
			<div id="leftTxt"></div>
			<!--<button id="button"></button>-->
		</div>
		
		<div id="infoHolder" class="right">
			<div class="panel">
				<div id="panelTxt"></div>
			</div>
		</div>
		
	</div>
	
</div>